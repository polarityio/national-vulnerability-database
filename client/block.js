polarity.export = PolarityComponent.extend({
  details: Ember.computed.alias('block.data.details'),
  vulnerability: Ember.computed.alias('details.vulnerability'),
  timezone: Ember.computed('Intl', function () {
    return Intl.DateTimeFormat().resolvedOptions().timeZone;
  }),
  expandableTitleStates: Ember.computed.alias('block._state.expandableTitleStates'),
  modifiedMessage:
    'This vulnerability has been modified since it was last analyzed by the NVD. ' +
    'It is awaiting reanalysis which may result in further changes to the information provided.',
  linkWarningMessage:
    'NIST has provided these links to other web sites because they may have ' +
    'information that would be of interest to you. No inferences should be drawn on ' +
    'account of other sites being referenced, or not. There may be other web sites ' +
    'that are more appropriate for your purpose. NIST does not necessarily endorse ' +
    'the views expressed, or concur with the facts presented on these sites. Further, ' +
    'NIST does not endorse any commercial products that may be mentioned on these ' +
    'sites. Please address comments about this page to nvd@nist.gov.',
  init: function () {
    if (!this.get('block._state')) {
      this.set('block._state', {});
      this.set('block._state.expandableTitleStates', {});
    }
    this._super(...arguments);
  },
  actions: {
    toggleExpandableTitle: function (index) {
      this.set(
        `block._state.expandableTitleStates.${index}`,
        !this.get(`block._state.expandableTitleStates.${index}`)
      );
    }
  }
});
